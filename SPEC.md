# æ›¸ç±ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å‹•ç”»ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ  - ä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**æœ€çµ‚æ›´æ–°**: 2025-11-06
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Active

---

## ğŸ“‹ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [æŠ€è¡“é¸å®š](#æŠ€è¡“é¸å®š)
3. [ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶](#ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶)
4. [ã‚³ã‚¢æ©Ÿèƒ½ä»•æ§˜](#ã‚³ã‚¢æ©Ÿèƒ½ä»•æ§˜)
5. [é–‹ç™ºåŸå‰‡](#é–‹ç™ºåŸå‰‡)
6. [Gité‹ç”¨ãƒ•ãƒ­ãƒ¼](#gité‹ç”¨ãƒ•ãƒ­ãƒ¼)

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ç›®çš„
æ›¸ç±ã®è¡¨ç´™ç”»åƒã‹ã‚‰ã€AIã‚’æ´»ç”¨ã—ã¦ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å‹•ç”»ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

### ã‚´ãƒ¼ãƒ«
- Google Veo 3.1ã§é™æ­¢ç”»ã‹ã‚‰å‹•ç”»ã‚’ç”Ÿæˆ
- Google Cloud TTSã§æ—¥æœ¬èªãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆ
- MoviePyã§å‹•ç”»ç·¨é›†ï¼ˆå­—å¹•ã€ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰
- Streamlit UIã§èª°ã§ã‚‚ç°¡å˜ã«å‹•ç”»ä½œæˆ

### å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼
- å‡ºç‰ˆç¤¾ã®ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ‹…å½“è€…
- æ›¸ç±ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³æ‹…å½“è€…
- SNSé‹ç”¨æ‹…å½“è€…

---

## æŠ€è¡“é¸å®š

### ã‚³ã‚¢æŠ€è¡“

| æŠ€è¡“ | ç”¨é€” | ç†ç”± |
|------|------|------|
| **Google Veo 3.1** | å‹•ç”»ç”Ÿæˆ | é™æ­¢ç”»ã‹ã‚‰é«˜å“è³ªãªå‹•ç”»ã‚’ç”Ÿæˆå¯èƒ½ |
| **Google Cloud TTS** | éŸ³å£°åˆæˆ | æ—¥æœ¬èªã®è‡ªç„¶ãªéŸ³å£°åˆæˆãŒå¯èƒ½ |
| **MoviePy** | å‹•ç”»ç·¨é›† | Pythonã§å‹•ç”»ç·¨é›†ãŒå®¹æ˜“ |
| **Streamlit** | UI | çŸ­æ™‚é–“ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªUIã‚’æ§‹ç¯‰å¯èƒ½ |
| **Python 3.9+** | è¨€èª | AI/MLãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒå……å®Ÿ |

### ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
```
google-generativeai  # Veo 3.1 API
google-cloud-texttospeech  # TTS API
moviepy  # å‹•ç”»ç·¨é›†
streamlit  # UI
Pillow  # ç”»åƒå‡¦ç†
python-dotenv  # ç’°å¢ƒå¤‰æ•°ç®¡ç†
```

---

## ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

### ç’°å¢ƒè¦ä»¶
- Python 3.9ä»¥ä¸Š
- Google Cloud ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- Google API Keyï¼ˆVeo 3.1ç”¨ï¼‰
- 5GBä»¥ä¸Šã®ç©ºããƒ‡ã‚£ã‚¹ã‚¯å®¹é‡

### APIè¦ä»¶
- **Veo 3.1 API**: å‹•ç”»ç”Ÿæˆ
  - ãƒ¢ãƒ‡ãƒ«: `veo-3.1-generate-preview`
  - å…¥åŠ›: ç”»åƒ + ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
  - å‡ºåŠ›: MP4å‹•ç”»ï¼ˆæœ€å¤§8ç§’ï¼‰

- **Google Cloud TTS**: éŸ³å£°åˆæˆ
  - è¨€èª: æ—¥æœ¬èªï¼ˆja-JPï¼‰
  - éŸ³å£°: Wavenet/Neural2
  - å…¥åŠ›: ãƒ†ã‚­ã‚¹ãƒˆï¼ˆæœ€å¤§5000æ–‡å­—ï¼‰

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶
- Veo 3.1å‹•ç”»ç”Ÿæˆ: 3ã€œ5åˆ†
- TTSéŸ³å£°ç”Ÿæˆ: 5ç§’ä»¥å†…
- MoviePyç·¨é›†: 30ç§’ä»¥å†…

---

## ã‚³ã‚¢æ©Ÿèƒ½ä»•æ§˜

### 1. å‹•ç”»ç”Ÿæˆï¼ˆVeo 3.1ï¼‰

**å…¥åŠ›**:
- æ›¸ç±è¡¨ç´™ç”»åƒï¼ˆPNG/JPGï¼‰
- ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆï¼‰

**å‡¦ç†**:
1. ç”»åƒã‚’Veo 3.1 APIã«é€ä¿¡
2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«åŸºã¥ãå‹•ç”»ç”Ÿæˆ
3. ãƒãƒ¼ãƒªãƒ³ã‚°ã§ç”Ÿæˆå®Œäº†ã‚’å¾…æ©Ÿï¼ˆæœ€å¤§5åˆ†ï¼‰
4. ç”Ÿæˆã•ã‚ŒãŸå‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

**å‡ºåŠ›**:
- MP4å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ720p/1080pã€4ã€œ8ç§’ï¼‰

**ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆFail-Firstï¼‰**:
```python
# âŒ ç¦æ­¢: ã‚¨ãƒ©ãƒ¼æ¡ã‚Šã¤ã¶ã—
try:
    video = generate_video(image)
except Exception:
    return None  # NG

# âœ… æ¨å¥¨: æ—©æœŸå¤±æ•—
def generate_video(image_path: str) -> str:
    if not os.path.exists(image_path):
        raise FileNotFoundError(f"Image not found: {image_path}")

    response = veo_api.generate(image_path)
    if response.status != "SUCCESS":
        raise APIError(f"Veo API failed: {response.error}")

    return response.video_path
```

### 2. ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼ˆTTSï¼‰

**å…¥åŠ›**:
- ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- éŸ³å£°ã‚¿ã‚¤ãƒ—ï¼ˆç”·æ€§/å¥³æ€§ï¼‰
- è©±é€Ÿï¼ˆ0.25ã€œ4.0ï¼‰

**å‡¦ç†**:
1. ãƒ†ã‚­ã‚¹ãƒˆã‚’Google Cloud TTS APIã«é€ä¿¡
2. æŒ‡å®šã—ãŸéŸ³å£°ã§åˆæˆ
3. MP3ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜

**å‡ºåŠ›**:
- MP3éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«

**éŸ³å£°ä¸€è¦§**:
- `ja-JP-Wavenet-C`: ç”·æ€§ï¼ˆä½éŸ³ã€é‡åšï¼‰
- `ja-JP-Wavenet-B`: å¥³æ€§ï¼ˆæ¨™æº–ï¼‰
- `ja-JP-Neural2-C`: ç”·æ€§ï¼ˆè‡ªç„¶ï¼‰
- `ja-JP-Neural2-B`: å¥³æ€§ï¼ˆè‡ªç„¶ï¼‰

### 3. å‹•ç”»ç·¨é›†ï¼ˆMoviePyï¼‰

**æ©Ÿèƒ½**:
- ãƒ†ã‚­ã‚¹ãƒˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆã€Œç¶šãã¯æœ¬æ›¸ã§ã€ãªã©ï¼‰
- ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³/ã‚¢ã‚¦ãƒˆåŠ¹æœ
- éŸ³å£°ãƒˆãƒ©ãƒƒã‚¯åˆæˆ
- è§£åƒåº¦èª¿æ•´

**å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
```
å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ« + éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«
  â†“
MoviePyåˆæˆ
  â†“
ãƒ†ã‚­ã‚¹ãƒˆã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤
  â†“
ãƒ•ã‚§ãƒ¼ãƒ‰åŠ¹æœ
  â†“
æœ€çµ‚å‹•ç”»å‡ºåŠ›ï¼ˆMP4ï¼‰
```

### 4. ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–UIï¼ˆStreamlitï¼‰

**ç”»é¢æ§‹æˆ**:
1. **å…¥åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³**
   - æ›¸ç±è¡¨ç´™ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
   - ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå…¥åŠ›
   - ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›

2. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´**
   - å‹•ç”»é•·ã•ï¼ˆ4/6/8ç§’ï¼‰
   - éŸ³å£°é¸æŠï¼ˆç”·æ€§/å¥³æ€§ï¼‰
   - è©±é€Ÿèª¿æ•´

3. **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**
   - ç”Ÿæˆæ¸ˆã¿å‹•ç”»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
   - éŸ³å£°å†ç”Ÿ

4. **ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**
   - æœ€çµ‚å‹•ç”»ç”Ÿæˆ
   - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³

---

## é–‹ç™ºåŸå‰‡

### Fail-FirståŸå‰‡ï¼ˆæœ€é‡è¦ï¼‰

**ã‚¨ãƒ©ãƒ¼ã¯æ—©æœŸã«é¡•åœ¨åŒ–ã•ã›ã‚‹**

#### ç¦æ­¢äº‹é …
1. **try/exceptã§ã‚¨ãƒ©ãƒ¼ã‚’æ¡ã‚Šã¤ã¶ã™**
   ```python
   # âŒ çµ¶å¯¾ç¦æ­¢
   try:
       result = risky_operation()
   except Exception:
       return None
   ```

2. **æœªçŸ¥ã®å…¥åŠ›ã‚’å—ã‘å…¥ã‚Œã‚‹**
   ```python
   # âŒ å…¥åŠ›æ¤œè¨¼ãªã—
   def process(value):
       return value * 2
   ```

3. **Fail-Overï¼ˆå¤±æ•—ã®éš è”½ï¼‰**
   - ã‚¨ãƒ©ãƒ¼ã‚’éš ã—ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™
   - ãƒ­ã‚°ã ã‘å‡ºã—ã¦å‡¦ç†ã‚’ç¶šã‘ã‚‹

#### æ¨å¥¨äº‹é …
1. **æ—©æœŸå…¥åŠ›æ¤œè¨¼**
   ```python
   def process(value: int) -> int:
       if value < 0:
           raise ValueError(f"value must be non-negative, got {value}")
       return value * 2
   ```

2. **æ˜ç¤ºçš„ãªã‚¨ãƒ©ãƒ¼é€å‡º**
   ```python
   def generate_video(image_path: str) -> str:
       if not os.path.exists(image_path):
           raise FileNotFoundError(f"Image not found: {image_path}")

       # å‡¦ç†
       return video_path
   ```

3. **ã‚¨ãƒ©ãƒ¼ã®å†é€å‡º**
   ```python
   try:
       result = risky_operation()
   except SpecificError as e:
       logger.error(f"Failed: {e}")
       raise  # å¿…ãšå†é€å‡º
   ```

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°åŸå‰‡

#### 1. DRY (Don't Repeat Yourself)
- é‡è¤‡ã‚³ãƒ¼ãƒ‰ã‚’é¿ã‘ã‚‹
- å…±é€šå‡¦ç†ã¯é–¢æ•°åŒ–

#### 2. YAGNI (You Aren't Gonna Need It)
- å°†æ¥å¿…è¦ã‹ã‚‚ã—ã‚Œãªã„æ©Ÿèƒ½ã¯ä½œã‚‰ãªã„
- ä»Šå¿…è¦ãªã‚‚ã®ã ã‘å®Ÿè£…

#### 3. KISS (Keep It Simple, Stupid)
- ã‚·ãƒ³ãƒ—ãƒ«ã§æ˜å¿«ãªå®Ÿè£…
- éåº¦ãªæŠ½è±¡åŒ–ã‚’é¿ã‘ã‚‹

#### 4. Boy Scout Rule
- ã‚³ãƒ¼ãƒ‰ã‚’è§¦ã£ãŸã‚‰æ¥ãŸæ™‚ã‚ˆã‚Šãã‚Œã„ã«
- ä¸è¦ãªã‚³ãƒ¼ãƒ‰ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆã‚’å‰Šé™¤

#### 5. Dead Code Removal
- ä½¿ã‚ã‚Œãªã„ã‚³ãƒ¼ãƒ‰ã¯å³å‰Šé™¤
- æŠ€è¡“çš„è² å‚µã‚’æºœã‚ãªã„

### ã‚³ãƒ¼ãƒ‰å“è³ªåŸºæº–

#### å¿…é ˆäº‹é …
- âœ… å‹ãƒ’ãƒ³ãƒˆï¼ˆType Hintsï¼‰
- âœ… Docstringï¼ˆGoogleå½¢å¼ï¼‰
- âœ… PEP 8æº–æ‹ 
- âœ… å…¥åŠ›æ¤œè¨¼ï¼ˆFail-Firstï¼‰

#### ä¾‹
```python
def generate_video(
    image_path: str,
    prompt: str,
    duration: int = 8
) -> str:
    """
    Veo 3.1ã§å‹•ç”»ç”Ÿæˆ

    Args:
        image_path: å…¥åŠ›ç”»åƒãƒ‘ã‚¹
        prompt: ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
        duration: å‹•ç”»é•·ã•ï¼ˆç§’ï¼‰

    Returns:
        ç”Ÿæˆã•ã‚ŒãŸå‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹

    Raises:
        FileNotFoundError: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„
        ValueError: durationãŒ1ã€œ8ç§’ã®ç¯„å›²å¤–
        APIError: Veo APIå‘¼ã³å‡ºã—å¤±æ•—
    """
    # å…¥åŠ›æ¤œè¨¼ï¼ˆFail-Firstï¼‰
    if not os.path.exists(image_path):
        raise FileNotFoundError(f"Image not found: {image_path}")

    if not 1 <= duration <= 8:
        raise ValueError(f"duration must be 1-8, got {duration}")

    # å‡¦ç†
    ...
```

---

## Gité‹ç”¨ãƒ•ãƒ­ãƒ¼

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ï¼ˆGit Flowï¼‰

```
master (main)
  â”œâ”€ develop
  â””â”€ feature/*
```

#### ãƒ–ãƒ©ãƒ³ãƒèª¬æ˜

| ãƒ–ãƒ©ãƒ³ãƒ | ç”¨é€” | ãƒãƒ¼ã‚¸å…ƒ | ãƒãƒ¼ã‚¸å…ˆ |
|---------|------|---------|---------|
| **master** | ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå¸¸ã«å‹•ä½œï¼‰ | develop | - |
| **develop** | é–‹ç™ºçµ±åˆ | feature/* | master |
| **feature/** | æ©Ÿèƒ½é–‹ç™º | develop | develop |

### é–‹ç™ºãƒ•ãƒ­ãƒ¼

#### 1. æ–°æ©Ÿèƒ½é–‹ç™º

```bash
# developã‹ã‚‰æ´¾ç”Ÿ
git checkout develop
git pull origin develop
git checkout -b feature/123-add-subtitle

# é–‹ç™ºãƒ»ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "feat: Add subtitle animation"

# ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥
git push -u origin feature/123-add-subtitle

# PRä½œæˆï¼ˆGitHubï¼‰
# develop â† feature/123-add-subtitle
```

#### 2. ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

**ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```
<type>: <subject>

<body>

<footer>
```

**Typeä¸€è¦§**:
- `feat`: æ–°æ©Ÿèƒ½
- `fix`: ãƒã‚°ä¿®æ­£
- `docs`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå¤‰æ›´
- `refactor`: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- `test`: ãƒ†ã‚¹ãƒˆè¿½åŠ 
- `chore`: é›‘å‹™ï¼ˆãƒ“ãƒ«ãƒ‰è¨­å®šç­‰ï¼‰

**ä¾‹**:
```
feat: Add subtitle fade-in animation

Implement fade-in effect for subtitles using MoviePy.
- Add fade_duration parameter
- Update UI to control animation speed

Refs: #123
```

#### 3. ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼

```bash
# developãŒå®‰å®šã—ãŸã‚‰masterã«ãƒãƒ¼ã‚¸
git checkout master
git merge --no-ff develop -m "Release v1.1.0"
git push origin master

# ã‚¿ã‚°ä½œæˆ
git tag -a v1.1.0 -m "Release version 1.1.0"
git push origin v1.1.0
```

### ç¦æ­¢äº‹é …

1. âŒ **masterã¸ã®ç›´æ¥ã‚³ãƒŸãƒƒãƒˆ**
2. âŒ **force push**ï¼ˆ`git push --force`ï¼‰
3. âŒ **ã‚¨ãƒ©ãƒ¼æ¡ã‚Šã¤ã¶ã—ã‚³ãƒŸãƒƒãƒˆ**
4. âŒ **æœªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ãƒãƒ¼ã‚¸**

---

## å‚è€ƒãƒªãƒ³ã‚¯

- [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](docs/architecture.md)
- [Gité‹ç”¨ãƒ•ãƒ­ãƒ¼è©³ç´°](docs/git-workflow.md)
- [é–‹ç™ºåŸå‰‡ï¼ˆCLAUDE.mdï¼‰](CLAUDE.md)
- [Google Veo 3.1 Documentation](https://ai.google.dev/veo)
- [Google Cloud TTS Documentation](https://cloud.google.com/text-to-speech/docs)

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|---------|
| 2025-11-06 | 1.0 | åˆç‰ˆä½œæˆ |
